const fs = require('fs');
const {
  generateUniqID,
  generateRandomNumber,
  randomDateGenerator,
} = require('./util');
const path = require('path');

const initDataFileSrc = path.resolve(
  __dirname,
  './init-data.json',
);

const finalDataSrc = path.resolve(
  __dirname,
  './final-data.json',
);

const addIdToElemens = data => {
  const randomNames = [
    'Sara',
    'Michel',
    'Max',
    'Siavash',
    'Saman',
    'Zahra',
    'Simon',
    'Sina',
    'Emily',
    'Hannah',
    'Madison',
    'Ashley',
    'Sarah',
    'Alexis',
    'Samantha',
    'Jessica',
    'Elizabeth',
    'Taylor',
    'Lauren',
    'Alyssa',
    'Kayla',
    'Abigail',
    'Brianna',
    'Olivia',
    'Emma',
    'Megan',
    'Grace',
    'Victoria',
    'Rachel',
    'Anna',
    'Sydney',
    'Destiny',
    'Morgan',
    'Jennifer',
    'Jasmine',
    'Haley',
    'Julia',
    'Kaitlyn',
    'Nicole',
    'Amanda',
    'Katherine',
    'Natalie',
    'Hailey',
    'Alexandra',
    'Savannah',
    'Chloe',
    'Rebecca',
    'Stephanie',
    'Maria',
    'Sophia',
    'Mackenzie',
    'Allison',
    'Isabella',
    'Amber',
    'Mary',
    'Danielle',
    'Gabrielle',
    'Jordan',
    'Brooke',
    'Michelle',
    'Sierra',
    'Katelyn',
    'Andrea',
    'Madeline',
    'Sara',
    'Kimberly',
    'Courtney',
    'Erin',
    'Brittany',
    'Vanessa',
    'Jenna',
    'Jacqueline',
    'Caroline',
    'Faith',
    'Makayla',
    'Bailey',
    'Paige',
    'Shelby',
    'Melissa',
    'Kaylee',
    'Christina',
    'Trinity',
    'Mariah',
    'Caitlin',
    'Autumn',
    'Marissa',
    'Breanna',
    'Angela',
    'Catherine',
    'Zoe',
    'Briana',
    'Jada',
    'Laura',
    'Claire',
    'Alexa',
    'Kelsey',
    'Kathryn',
    'Leslie',
    'Alexandria',
    'Sabrina',
    'Mia',
    'Isabel',
    'Molly',
    'Leah',
    'Katie',
    'Gabriella',
    'Cheyenne',
    'Cassandra',
    'Tiffany',
    'Erica',
    'Lindsey',
    'Kylie',
    'Amy',
    'Diana',
    'Cassidy',
    'Mikayla',
    'Ariana',
    'Margaret',
    'Kelly',
    'Miranda',
    'Maya',
    'Melanie',
    'Audrey',
    'Jade',
    'Gabriela',
    'Caitlyn',
    'Angel',
    'Jillian',
    'Alicia',
    'Jocelyn',
    'Erika',
    'Lily',
    'Heather',
    'Madelyn',
    'Adriana',
    'Arianna',
    'Lillian',
    'Kiara',
    'Riley',
    'Crystal',
    'Mckenzie',
    'Meghan',
    'Skylar',
    'Ana',
    'Britney',
    'Angelica',
    'Kennedy',
    'Chelsea',
    'Daisy',
    'Kristen',
    'Veronica',
    'Isabelle',
    'Summer',
    'Hope',
    'Brittney',
    'Lydia',
    'Hayley',
    'Evelyn',
    'Bethany',
    'Shannon',
    'Michaela',
    'Karen',
    'Jamie',
    'Daniela',
    'Angelina',
    'Kaitlin',
    'Karina',
    'Sophie',
    'Sofia',
    'Diamond',
    'Payton',
    'Cynthia',
    'Alexia',
    'Valerie',
    'Monica',
    'Peyton',
    'Carly',
    'Bianca',
    'Hanna',
    'Brenda',
    'Rebekah',
    'Alejandra',
    'Mya',
    'Avery',
    'Brooklyn',
    'Ashlyn',
    'Lindsay',
    'Ava',
    'Desiree',
    'Alondra',
    'Camryn',
    'Ariel',
    'Naomi',
    'Jordyn',
    'Kendra',
    'Mckenna',
    'Holly',
    'Julie',
    'Kendall',
    'Kara',
    'Jasmin',
    'Selena',
    'Esmeralda',
    'Amaya',
    'Kylee',
    'Maggie',
    'Makenzie',
    'Claudia',
    'Kyra',
    'Cameron',
    'Karla',
    'Kathleen',
    'Abby',
    'Delaney',
    'Amelia',
    'Casey',
    'Serena',
    'Savanna',
    'Aaliyah',
    'Giselle',
    'Mallory',
    'April',
    'Raven',
    'Adrianna',
    'Christine',
    'Kristina',
    'Nina',
    'Asia',
    'Natalia',
    'Valeria',
    'Aubrey',
    'Lauryn',
    'Kate',
    'Patricia',
    'Jazmin',
    'Rachael',
    'Katelynn',
    'Cierra',
    'Alison',
    'Macy',
    'Nancy',
    'Elena',
    'Kyla',
    'Katrina',
    'Jazmine',
    'Joanna',
    'Tara',
    'Gianna',
    'Juliana',
    'Fatima',
    'Allyson',
    'Gracie',
    'Sadie',
    'Guadalupe',
    'Genesis',
    'Yesenia',
    'Julianna',
    'Skyler',
    'Tatiana',
    'Alexus',
    'Alana',
    'Elise',
    'Kirsten',
    'Nadia',
    'Sandra',
    'Dominique',
    'Ruby',
    'Haylee',
    'Jayla',
    'Tori',
    'Cindy',
    'Sidney',
    'Ella',
    'Tessa',
    'Carolina',
    'Camille',
    'Jaqueline',
    'Whitney',
    'Carmen',
    'Vivian',
    'Priscilla',
    'Bridget',
    'Celeste',
    'Kiana',
    'Makenna',
    'Alissa',
    'Madeleine',
    'Miriam',
    'Natasha',
    'Ciara',
    'Cecilia',
    'Mercedes',
    'Kassandra',
    'Reagan',
    'Aliyah',
    'Josephine',
    'Charlotte',
    'Rylee',
    'Shania',
    'Kira',
    'Meredith',
    'Eva',
    'Lisa',
    'Dakota',
    'Hallie',
    'Anne',
    'Rose',
    'Liliana',
    'Kristin',
    'Deanna',
    'Imani',
    'Marisa',
    'Kailey',
    'Annie',
    'Nia',
    'Carolyn',
  ];
  return data.reduce((prev, current) => {
    current.id = generateUniqID(5);
    current.created_date = randomDateGenerator();
    current.up_votes = generateRandomNumber(100);
    current.down_votes = generateRandomNumber(100);
    current.user_name =
      randomNames[
        generateRandomNumber(randomNames.length - 1)
      ];
    console.log(current);
    prev.push({ ...current });
    if (current.replies.length > 0) {
      addIdToElemens(current.replies);
    }
    return prev;
  }, []);
};

const generateMockData = () => {
  fs.readFile(initDataFileSrc, (err, data) => {
    if (err) {
      return console.log(err);
    }

    const finalData = JSON.stringify(
      addIdToElemens(JSON.parse(data)),
    );

    fs.writeFile(finalDataSrc, finalData, err => {
      if (err) throw err;
      console.log('Data written to file');
    });
  });
};
generateMockData();
